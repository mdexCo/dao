(this.webpackJsonpreact_imo=this.webpackJsonpreact_imo||[]).push([[16],{142:function(t,e,n){"use strict";n=n(206);e.a=new n.EventEmitter},150:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return i}),n.d(e,"q",function(){return s}),n.d(e,"n",function(){return r}),n.d(e,"a",function(){return l}),n.d(e,"o",function(){return u}),n.d(e,"j",function(){return o}),n.d(e,"p",function(){return p}),n.d(e,"i",function(){return _}),n.d(e,"h",function(){return b}),n.d(e,"b",function(){return d}),n.d(e,"k",function(){return m}),n.d(e,"l",function(){return j}),n.d(e,"m",function(){return g}),n.d(e,"g",function(){return O}),n.d(e,"r",function(){return f}),n.d(e,"f",function(){return h}),n.d(e,"s",function(){return v}),n.p;var a=n.p+"static/media/detail_fail.08501123.svg",c=n.p+"static/media/detail_pass.d560e61f.svg",i=n.p+"static/media/direction.8d05c349.svg",s=(n.p,n.p+"static/media/success.a8a4c08b.svg"),o=n.p+"static/media/h5_pass.2ef51c2c.svg",_=n.p+"static/media/h5_fail.a76e06d7.svg",r=n.p+"static/media/prompt.b69c9826.svg",l=n.p+"static/media/choose.f01fc159.svg",p=n.p+"static/media/remove.c1ea15ab.svg",u=n.p+"static/media/refuse.52d3e10e.svg",d=n.p+"static/media/close.d18efeba.svg",b=(n.p,n.p+"static/media/great.06dae3fc.svg"),m=n.p+"static/media/h5_pi.e2be8fd3.svg",j=n.p+"static/media/h5_so.a8e31910.svg",g=n.p+"static/media/h5_vi.f604f2e1.svg",O=n.p+"static/media/fail.704ffe19.svg",f=n.p+"static/media/tips.7ae6bd19.svg",h=n.p+"static/media/down.777dc1c7.svg",v=n.p+"static/media/up.14e75fa2.svg"},184:function(t,e,n){"use strict";var r=n(136),a=n(38),l=n(0),p=n(150),u=n(142),c=n(207),d=n.n(c),b=n(4);e.a=Object(a.b)("store")(Object(a.c)(function(t){var e=t.store,n=t.status,a=void 0!==n&&n,c=t.title,i=void 0===c?"":c,n=t.callback,s=void 0===n?null:n,c=t.children,n=void 0===c?Object(b.jsx)(b.Fragment,{}):c,t=Object(l.useState)(!1),c=Object(r.a)(t,2),t=c[0],o=c[1];Object(l.useEffect)(function(){o(a)},[a]),Object(l.useEffect)(function(){return u.a.addListener("closePop",_),function(){u.a.removeListener("closePop",_)}},[]);var _=function(){o(!a),e.config.isMobile&&e.config.setH5FootSatus(!0),s&&s()};return Object(b.jsx)("div",{className:d.a.popWrap,style:t?{}:{display:"none"},children:Object(b.jsxs)("div",{className:d.a.pop,children:[Object(b.jsxs)("section",{className:d.a.close,children:[Object(b.jsx)("span",{children:i}),Object(b.jsx)("img",{src:p.b,alt:"",onClick:function(){return _()}})]}),n]})})}))},207:function(t,e,n){t.exports={start:"Pop_start__11jio",align:"Pop_align__3fUrP",align_center:"Pop_align_center__16hSA",align_between:"Pop_align_between__3bUlu",align_around:"Pop_align_around__3qxAD",popWrap:"Pop_popWrap__2At93",horizontal_between:"Pop_horizontal_between__r7N63",clamp:"Pop_clamp__2x0jD",clamp2:"Pop_clamp2__1qv37",clamp3:"Pop_clamp3__1kndf",pop:"Pop_pop__2K-RN",close:"Pop_close__fokld"}},219:function(t,e,n){"use strict";n(0);var a=n(38),c=n(40),i=n(150),s=n(235),o=n.n(s),_=n(4);e.a=Object(a.b)("store")(Object(a.c)(function(t){var e=t.store,n=t.param,a=e.config.chainName;return Object(_.jsxs)("div",{className:o.a.address,onClick:function(){var t;(t=n)&&window.open(Object(c.d)(t,a,"address"))},children:[Object(c.f)(n,4),Object(_.jsx)("img",{src:i.e,alt:""})]})}))},227:function(t,e,n){"use strict";n(0);var a=n(38),u=n(150),d=n(138),c=n(228),b=n.n(c),c=n(3),m=n(142),j=n(184),g=n(4);e.a=Object(c.h)(Object(a.b)("store")(Object(a.c)(function(t){var e=t.history,n=t.status,a=t.title,c=t.callback,i=t.store,s=t.option,o=t.kind,_=i.config,r=_.langTextList,l=_.lang,t=_.chainName,i=_.isMobile,_=s.tips,s=s.type,p=Object(d.c)({la:l,sk:t,tm:i}),r=r.Com;return Object(g.jsx)(j.a,{status:n,title:a,callback:c,children:Object(g.jsxs)("div",{className:b.a.main,children:[Object(g.jsx)("img",{src:"error"===s?u.g:u.q,alt:""}),_&&Object(g.jsx)("p",{children:_}),Object(g.jsx)("button",{className:"".concat(b.a.submit," ").concat(b.a["error"===s?"err":"suc"]),onClick:function(){"proposal"===o&&e.push(p.Motion),m.a.emit("closePop")},children:r.Know})]})})})))},228:function(t,e,n){t.exports={start:"OperateStatus_start__1nL3Q",align:"OperateStatus_align__2h28l",align_center:"OperateStatus_align_center__2Ipdl",align_between:"OperateStatus_align_between__25TU9",align_around:"OperateStatus_align_around__1BLfL",horizontal_between:"OperateStatus_horizontal_between__37VEN",clamp:"OperateStatus_clamp__17gB0",clamp2:"OperateStatus_clamp2__2N7MK",clamp3:"OperateStatus_clamp3__1ul0x",main:"OperateStatus_main__1ZWwJ",submit:"OperateStatus_submit__3W8EF",suc:"OperateStatus_suc__2p9Gj",err:"OperateStatus_err__1c7SX"}},235:function(t,e,n){t.exports={start:"Address_start__O-neP",align:"Address_align__do61v",align_center:"Address_align_center__27uPe",align_between:"Address_align_between__3lqJO",align_around:"Address_align_around__3DYKD",horizontal_between:"Address_horizontal_between__1KSXe",clamp:"Address_clamp__1FJrc",clamp2:"Address_clamp2__1RaBZ",clamp3:"Address_clamp3__IzbuR",address:"Address_address__2_yQH"}},236:function(t,e,n){"use strict";var a=n(21),c=(n(0),n(246)),i=n(237),s=n.n(i),o=n(245),_=n(4);e.a=function(t){return Object(_.jsx)("div",{className:s.a.markdown,children:Object(_.jsx)(o.a,Object(a.a)({remarkPlugins:[c.a]},t))})}},237:function(t,e,n){t.exports={start:"Markdown_start__1-WSY",align:"Markdown_align__1JphI",align_center:"Markdown_align_center__U4K5r",align_between:"Markdown_align_between__3baDt",align_around:"Markdown_align_around__3T1-4",horizontal_between:"Markdown_horizontal_between__58W_Y",clamp:"Markdown_clamp__3iKZ7",clamp2:"Markdown_clamp2__1ZoWU",clamp3:"Markdown_clamp3__21ykB",markdown:"Markdown_markdown__4vQxU"}},336:function(t,e,n){"use strict";n(0);var a=n(38),o=n(40),c=n(337),_=n.n(c),r=n(142),l=n(184),p=n(4);e.a=Object(a.b)("store")(Object(a.c)(function(t){var n,e=t.status,a=t.title,c=t.snapotData,i=t.callback,s=t.store.config.langTextList,t=s.Pop.MyVoting,s=s.Com;return Object(p.jsx)(l.a,{status:e,title:a,callback:i,children:Object(p.jsxs)("div",{className:_.a.main,children:[Object(p.jsx)("p",{className:_.a.title,children:t.MyVoteRights}),Object(p.jsx)("div",{className:_.a.num,children:Object(o.e)(null==c?void 0:c.total_balance,0)}),Object(p.jsx)("p",{className:_.a.tips,dangerouslySetInnerHTML:{__html:t.Tips(null==c?void 0:c.snap_heco_block,null==c?void 0:c.snap_bsc_block)}}),Object(p.jsxs)("div",{className:_.a.composition,children:[Object(p.jsx)("h5",{children:t.VoElement}),(n=[],[{text:"MDX ".concat(t.Hold),val:null==c?void 0:c.mdx_balance},{text:"xMDX ".concat(t.Hold),val:null==c?void 0:c.xmdx_balance},{text:"".concat(t.IMOPledge),val:null==c?void 0:c.dao_balance}].forEach(function(t,e){n.push(Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[t.text," :"]}),Object(p.jsx)("span",{children:Object(o.e)(t.val,0)})]},"compositionRnder".concat(e)))}),n)]}),Object(p.jsx)("button",{onClick:function(){r.a.emit("closePop")},children:s.Know})]})})}))},337:function(t,e,n){t.exports={start:"ViewVotingRights_start__3Z6-W",align:"ViewVotingRights_align__ZPtLU",align_center:"ViewVotingRights_align_center__2Utkx",align_between:"ViewVotingRights_align_between__2YQs_",main:"ViewVotingRights_main__31zM3",composition:"ViewVotingRights_composition__2Cb-d",align_around:"ViewVotingRights_align_around__2IZ1t",horizontal_between:"ViewVotingRights_horizontal_between__2ygEL",clamp:"ViewVotingRights_clamp__3R7iQ",clamp2:"ViewVotingRights_clamp2__3-D6E",clamp3:"ViewVotingRights_clamp3__22EZ0",title:"ViewVotingRights_title__wzAoA",num:"ViewVotingRights_num__2VHwJ",tips:"ViewVotingRights_tips__1KebW"}},580:function(t,e,n){t.exports={start:"SubmitProposal_start__1xFn3",align:"SubmitProposal_align__1QEd3",align_center:"SubmitProposal_align_center__2f1zj",align_between:"SubmitProposal_align_between__TQNMk",align_around:"SubmitProposal_align_around__PECWU",horizontal_between:"SubmitProposal_horizontal_between__1qqUc",clamp:"SubmitProposal_clamp__303h9",clamp2:"SubmitProposal_clamp2__YkDHt",clamp3:"SubmitProposal_clamp3__2PqzV",submit_proposal:"SubmitProposal_submit_proposal__-23ln",main:"SubmitProposal_main__3bl0k",bg:"SubmitProposal_bg__1pPYe",top:"SubmitProposal_top__2f5tT",left:"SubmitProposal_left__2ZtT7",right:"SubmitProposal_right__2GepN",middle:"SubmitProposal_middle__2sLm3",content:"SubmitProposal_content__2hbPG",top_bg:"SubmitProposal_top_bg__3Lr1p"}},581:function(t,e,n){t.exports={start:"Options_start__vQ3f_",align:"Options_align___xwUx",align_center:"Options_align_center__1V2pY",align_between:"Options_align_between__1dWwr",align_around:"Options_align_around__20EUa",horizontal_between:"Options_horizontal_between__tB28M",clamp:"Options_clamp__RowlN",clamp2:"Options_clamp2__6CeTZ",clamp3:"Options_clamp3__EWJ_y",options:"Options_options__u6IKv",active:"Options_active__37V-h"}},622:function(t,e){},624:function(t,e,n){t.exports={start:"EasyMde_start__3jiwX",align:"EasyMde_align__3Vp6y",align_center:"EasyMde_align_center__20qHV",align_between:"EasyMde_align_between__1rnZc",align_around:"EasyMde_align_around__1h5vz",horizontal_between:"EasyMde_horizontal_between__280O5",clamp:"EasyMde_clamp__24FVW",clamp2:"EasyMde_clamp2__338tP",clamp3:"EasyMde_clamp3__1iNGo",easyMde:"EasyMde_easyMde__TfYeL"}},625:function(t,e,n){t.exports={start:"Form_start__15B0c",align:"Form_align__3LL3A",align_center:"Form_align_center__1bYL-",align_between:"Form_align_between__U_RiG",align_around:"Form_align_around__2crr4",horizontal_between:"Form_horizontal_between__2Bn-a",clamp:"Form_clamp__3Ui7U",clamp2:"Form_clamp2__3u1Ii",clamp3:"Form_clamp3__3W25e",form:"Form_form__zx6rt",content:"Form_content__qoYpO",title:"Form_title__1DG2r",preview:"Form_preview__1PRvR",mt:"Form_mt__1ER7d"}},626:function(t,e,n){t.exports={start:"Info_start__1odeQ",align:"Info_align__28rTR",align_center:"Info_align_center__IMGNU",align_between:"Info_align_between__1vBLa",info:"Info_info__3iSLP",sponsor:"Info_sponsor__D1rI8",align_around:"Info_align_around__9EawT",horizontal_between:"Info_horizontal_between__3m51D",clamp:"Info_clamp__2F7rT",clamp2:"Info_clamp2__1eNaX",clamp3:"Info_clamp3__2UbCT",title:"Info_title__1ZqBl",rule:"Info_rule__LbhlD",snapshot:"Info_snapshot__3qt1t",tips:"Info_tips__1Xp4Q",view:"Info_view__dzk_M",en:"Info_en__7kOPB"}},627:function(t,e,n){t.exports={start:"Top_start__1qBXD",align:"Top_align__1SFQI",align_center:"Top_align_center__GkM4l",align_between:"Top_align_between__1xz00",align_around:"Top_align_around__3W1dT",horizontal_between:"Top_horizontal_between__200jF",clamp:"Top_clamp__B0fnn",clamp2:"Top_clamp2__3-MeR",clamp3:"Top_clamp3__1nl2O",top:"Top_top__K2JLt",icon:"Top_icon__16qg5"}},642:function(t,e,n){"use strict";n.r(e);function f(t){var e=t.options,n=t.onTextChange,t=Object(r.a)(t,g),a=Object(h.useRef)(),c=Object(h.useRef)(n);return Object(h.useEffect)(function(){var t=new m.a(b()({element:a.current},O,e));return t.codemirror.on("change",function(){c.current(t.value())}),function(){t&&(t.toTextArea(),t=null)}},[e,c,a]),Object(y.jsx)("div",{className:j.a.easyMde,children:Object(y.jsx)("textarea",Object(p.a)({ref:a,readOnly:!0},t))})}var h=n(0),v=n.n(h),a=n(38),c=n(168),i=n(167),s=n(580),o=n.n(s),_=n(169),s=n(24),x=n.n(s),w=n(39),k=n(136),P=n(142),S=n(227),N=n(147),M=n(236),l=n(42),p=n(21),u=n(150),s=n(581),d=n.n(s),y=n(4),V=Object(a.b)("store")(Object(a.c)(Object(h.forwardRef)(function(t){var e,n=t.store,a=t.oref,t=n.config.langTextList,n=Object(h.useState)({1:{text:"",show:!0},2:{text:"",show:!0},3:{text:"",show:!1},4:{text:"",show:!1},5:{text:"",show:!1}}),n=Object(k.a)(n,2),c=n[0],i=n[1],s=Object.keys(c).length,n=Object(h.useState)(2),n=Object(k.a)(n,2),o=n[0],_=n[1],r=t.Pop.MyVoting;return Object(h.useImperativeHandle)(a,function(){return{data:c}}),Object(y.jsxs)("div",{className:d.a.options,children:[(e=[],Object.keys(c).forEach(function(a,t){c[a].show&&e.push(Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{maxLength:100,value:c[a].text,placeholder:"".concat(r.InputPlan).concat(a),onChange:function(t){var e,n;e=a,n=null==(t=t)||null===(n=t.target)||void 0===n?void 0:n.value,i(Object(p.a)(Object(p.a)({},c),{},Object(l.a)({},e,{text:n,show:!0})))}}),1<t&&Object(y.jsx)("img",{className:d.a.close,src:u.p,alt:"",onClick:function(){var t=a;_(o-1),i(Object(p.a)(Object(p.a)({},c),{},Object(l.a)({},t,{text:"",show:!1})))}})]},"optionsRender".concat(t)))}),e),Object(y.jsx)("button",{className:s<=o?"":d.a.active,onClick:function(){var t;o<s&&(_(o+1),t=Object.keys(c).find(function(t){return!1===c[t].show}),i(Object(p.a)(Object(p.a)({},c),{},Object(l.a)({},t,{text:"",show:!0}))))},disabled:s<=o,children:r.AddOption})]})}))),r=n(630),s=(n(582),n(583)),b=n.n(s),s=n(610),m=n.n(s),s=n(624),j=n.n(s),g=["options","onTextChange"],O={autofocus:!1,status:!1,hideIcons:["guide","fullscreen","preview","side-by-side","image","heading"],spellChecker:!1,styleSelectedText:!1},s=n(625),T=n.n(s),R=Object(a.b)("store")(Object(a.c)(function(t){var e=t.store,n=e.config,a=n.lang,c=n.langTextList,_=n.account,r=n.chainId,l=e.proposal.createPROPOSAL,i=Object(h.useState)(""),t=Object(k.a)(i,2),p=t[0],s=t[1],n=Object(h.useState)(""),e=Object(k.a)(n,2),u=e[0],o=e[1],i=Object(h.useState)(!1),t=Object(k.a)(i,2),d=t[0],b=t[1],n=Object(h.useState)("error"),e=Object(k.a)(n,2),i=e[0],m=e[1],j=Object(h.useRef)(),t=c.Pop.MyVoting,n=c.Pop.OperateStatus,e=c.Com,c={success:{tips:"",type:"success"},error:{tips:n.proposalErr,type:"error"}};Object(h.useEffect)(function(){return P.a.addListener("submitProposal",O),function(){P.a.removeListener("submitProposal",O)}},[j,p,u]);var g,n=Object(h.useMemo)(function(){return{hideIcons:_?[]:["guide","fullscreen","preview","side-by-side"]}},[_]),O=Object(h.useCallback)((g=Object(w.a)(x.a.mark(function t(e,n){var a,c,i,s,o;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=j.current.data,t.next=4,Object(N.u)(_);case 4:c=t.sent,2<=(s=Object.keys(a).filter(function(t){return a[t].show&&!!a[t].text})).length&&p&&u&&(i=[],s.forEach(function(t){i.push(a[t].text)}),s={title:p,content:u,heco_snap_block:e,bsc_snap_block:n,proposal_options:i},o={timestamp:(new Date).getTime(),payload:s,type:"proposal",version:"1.1.1",mdex_chainid:Number(r)},c.signMessage(JSON.stringify(o)).then(function(t){l({address:_,message:JSON.stringify(o),sig:t}).then(function(t){0==t.code?m("success"):m("error"),b(!d)})}));case 7:case"end":return t.stop()}},t)})),function(t,e){return g.apply(this,arguments)}),[j,p,u]);return Object(y.jsxs)(v.a.Fragment,{children:[Object(y.jsxs)("div",{className:"".concat(T.a.form," ").concat(T.a[a]),children:[Object(y.jsxs)("div",{className:T.a.content,children:[Object(y.jsx)("p",{className:T.a.title,children:t.InputTitle}),Object(y.jsx)("input",{value:p,maxLength:100,onChange:function(t){var e;e=null==(t=t)||null===(e=t.target)||void 0===e?void 0:e.value,s(e)}}),Object(y.jsx)("p",{className:T.a.title,children:t.InputCon}),Object(y.jsx)(f,{id:"body",name:"body",onTextChange:function(t){o(t)},value:u,options:n,required:!0}),Object(y.jsx)("p",{className:"".concat(T.a.title," ").concat(T.a.mt),children:t.Preview}),Object(y.jsx)("div",{className:T.a.preview,children:Object(y.jsx)(M.a,{children:u})})]}),Object(y.jsx)(V,{oref:j})]}),d&&Object(y.jsx)(S.a,{callback:function(t){b(t)},status:d,title:"error"==i?e.ErrSub:e.SucSub,option:c[i],kind:"proposal"})]})})),E=n(336),I=n(219),s=n(626),z=n.n(s),L=Object(a.b)("store")(Object(a.c)(function(t){var e=t.store,n=e.config,t=n.lang,a=n.account,n=n.langTextList,c=e.proposal.getVoteRigt,e=Object(h.useState)(!1),e=Object(k.a)(e,2),i=e[0],s=e[1],e=Object(h.useState)({}),e=Object(k.a)(e,2),o=e[0],_=e[1],n=n.Pop.RmMes;return Object(h.useEffect)(function(){a&&c({address:a}).then(function(t){t&&0==t.code&&_(t.result)})},[a]),Object(y.jsxs)(v.a.Fragment,{children:[Object(y.jsxs)("div",{className:"".concat(z.a.info," ").concat(z.a[t]),children:[Object(y.jsx)("div",{className:z.a.title,children:n.Mes}),Object(y.jsxs)("div",{className:z.a.sponsor,children:[Object(y.jsxs)("span",{children:[n.Sponsor,"："]}),Object(y.jsx)(I.a,{param:a})]}),Object(y.jsx)("div",{className:z.a.rule,children:n.Tips1}),Object(y.jsxs)("div",{className:z.a.snapshot,children:["HECO ",n.Snapshot," :",Object(y.jsx)("span",{children:null!==(t=null==o?void 0:o.snap_heco_block)&&void 0!==t?t:"--"})]}),Object(y.jsxs)("div",{className:z.a.snapshot,children:["BSC ",n.Snapshot," :",Object(y.jsx)("span",{children:null!==(t=null==o?void 0:o.snap_bsc_block)&&void 0!==t?t:"--"})]}),Object(y.jsx)("button",{onClick:function(){P.a.emit("submitProposal",null==o?void 0:o.snap_heco_block,null==o?void 0:o.snap_bsc_block)},disabled:!a||(null==o?void 0:o.total_balance)<1e5,children:n.RmSubmit}),Object(y.jsx)("div",{className:z.a.tips,children:n.Tips2(1e5)}),Object(y.jsx)("div",{className:z.a.view,onClick:function(){s(!i)},children:n.View})]}),i&&a&&Object(y.jsx)(E.a,{callback:function(t){s(t)},status:i,title:n.View,snapotData:o})]})})),C=n(645),s=n(627),F=n.n(s),A=Object(a.b)("store")(Object(a.c)(function(t){var e=t.store.config,t=e.lang,e=e.langTextList.Com;return Object(y.jsxs)("div",{className:"".concat(F.a.top," ").concat(F.a[t]),onClick:function(){window.history.go(-1)},children:[Object(y.jsx)(C.a,{className:F.a.icon}),Object(y.jsx)("span",{children:e.Return})]})}));e.default=Object(a.b)("store")(Object(a.c)(function(t){var e=t.store.config,n=e.lang,t=e.isPC,e=e.account;return Object(h.useEffect)(function(){},[e]),Object(y.jsxs)("div",{className:"".concat(o.a.submit_proposal," ").concat(o.a[n]),children:[Object(y.jsx)("div",{className:"".concat(o.a.bg," ").concat(o.a.top)}),Object(y.jsx)("div",{className:"".concat(o.a.bg," ").concat(o.a.left)}),Object(y.jsx)("div",{className:"".concat(o.a.bg," ").concat(o.a.right)}),Object(y.jsx)("div",{className:"".concat(o.a.bg," ").concat(o.a.middle)}),Object(y.jsx)(_.a,{}),Object(y.jsxs)("div",{className:o.a.main,children:[Object(y.jsx)(A,{}),Object(y.jsxs)("div",{className:o.a.content,children:[Object(y.jsx)(R,{}),Object(y.jsx)(L,{})]})]}),t?Object(y.jsx)(c.a,{}):Object(y.jsx)(i.a,{})]})}))}}]);